<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>
    <form id="f">
        <p id="info"></p>
        <p>
            <input type="text" id="name" />
        </p>
        <p>
            <input type="text" id="msg" />
        </p>
        <p>
            <input type="submit" id="sub" />
        </p>
    </form>
    <script type="text/javascript">
    function id(str) {
        return document.getElementById(str);
    }
    var f = id('f');
    var name = id('name');
    var msg = id('msg');
    var info = id('info');
    var sub = id('sub');
    var ws = new WebSocket('ws://127.0.0.1:11554/');
    ws.onopen = function() {
        info.innerHTML = '连接成功建立<br/>';
    }
    ws.onmessage = function(e) {
        info.innerHTML += e.data + '<br/>';
    }
    f.onsubmit = function() {
        ws.send(name.value + ":" + msg.value);
        return false;
    }
    </script>
</body>
